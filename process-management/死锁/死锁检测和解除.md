## 死锁检测和解除

### 资源分配图

**圆圈**代表一个**进程**，**框**代表一类**资源**，**圈到框**代表进程**申请资源**，**框到圈**代表资源**分配**给进程

![死锁资源分配](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/%E6%AD%BB%E9%94%81%E8%B5%84%E6%BA%90%E5%88%86%E9%85%8D%E5%9B%BE.png "死锁资源分配")

### 死锁定理

通过简化资源分配图的方法来判断是否死锁

找出**既不阻塞又不是孤点的进程**，消去请求边和分配边，使之成为孤立的点

当且仅当资源分配图不可完全简化，是死锁的

### 注意

- 环路存在**不一定**有死锁

- 只存在**一个资源实例**时，环路是死锁存在的**充分必要**条件

![资源分配图化简](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/%E8%B5%84%E6%BA%90%E5%88%86%E9%85%8D%E5%9B%BE%E5%8C%96%E7%AE%80.png "资源分配图化简")

### 死锁解除

- 资源剥夺法，挂起死锁进程，**抢占其资源**分配给其它死锁进程

- 撤销进程法，**强制撤销**部分、甚至全部死锁的进程并剥夺进程资源

- 进程回退法，让一或多个进程**回退到足以回避死锁的地步**，回退到资源释放资源而不是被剥夺




