## 死锁预防

- 防止死锁的发生只需要破坏死锁产生的四个必要条件之一即可

### 破环互斥条件

- 如果**允许系统资源都能共享使用**，不会进入死锁状态，但有些资源根本不能同时访问

- 如打印机等临界资源只能互斥使用，所以破坏互斥条件而预防死锁的方法不太可行

- 而且在有的场合应该保护这种互斥性

### 破坏不剥夺条件

- 当一个**已保持了某些不可剥夺资源**的进程，请求新的资源而得不到满足

- 必须**释放已经保持的所有资源**，待以后需要时重新申请

- 这意味着，一个进程已占有的资源会被暂时释放，或者说被剥夺，或从而破坏了不可剥夺条件

- 该策略实现较复杂

- 释放已获得的资源可能造成前一阶段工作的失效

- 反复申请和释放资源会**增加系统开销**，**降低系统吞吐量**，可用于CPU的寄存器及内存资源，不能用于打印机之类的资源

### 破坏请求和保持条件

- 采用**预先静态分配**方法，进程在运行前一次申请完它所需要的全部资源，在它的资源未满足前，不投入运行

- 一旦投入运行后，这些资源就已知归它所有，不在提出其他资源请求，保证系统不会发生死锁

- 实现简单，但**系统资源被严重浪费**，甚至导致"**饥饿**"现象

- 当由于个别资源被长期被其他进程占用时，将致使等待该资源的进程迟迟不能开始运行

### 破坏循环等待条件

- 采用**顺序资源分配法**，首先给系统中的资源**编号**，规定每个进程，必须**按编号递增的顺序**请求资源，同类资源一次申请完。

- 只要进程提出申请分配资源Ri，则该进程在以后的资源申请中，只能申请编号大于Ri的资源

- 编号必须**相对稳定**，但限制了新类型设备的增加

- 虽然已考虑到大多数作业实际使用资源的顺序，但也经常会发生作业使用资源的顺序与系统规定顺序不同的情况，造成资源浪费

- 这种按规定次序申请资源的方法，会给用户编程带来麻烦





