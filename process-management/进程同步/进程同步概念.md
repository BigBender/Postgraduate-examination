## 进程同步的基本概念

### 临界资源

一次仅允许一个进程使用的资源

### 临界区

访问临界资源的那段**代码**

### 同步

**直接制约**关系，要在某些位置上协调工作次序而等待、传递信息所产生的制约关系

### 互斥

**间接制约**关系，当一个进程进入临界区使用临界资源时，另一个进程必须等待

当占用临界资源的进程退出临界区后其他进程才能去访问临界资源

### 实现临界区互斥的基本方法

#### 软件实现方法

##### 单标志法

##### 双标志法先检查

##### 双标志法后检查，可能因为互相谦让，导致"饥饿"现象

##### Peterson's Algorithm,1和4的结合

```cpp

Pi进程                                   Pj进程

void Pi(){       				void Pj(){
	......						......
	flag[i]=TRUE;trun=j			flag[j]=TRUE;turn=i;
	while(flag[j]&&turn==j)；	while(flag[i]&&turn==i)；
	critical section;			critical section;
	flag[i]=FALSE;              flag[i]=FALSE;
	remainder section;          remainder section;
	......                      ......
}

```


#### 硬件实现方法

- 中断屏蔽方法，禁止一切中断发生

- 硬件指令方法