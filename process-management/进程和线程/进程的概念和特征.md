## 进程的概念和特征

### 进程(Process)

为了实现操作系统的并发行和共享性，引入进程

### 进程控制块 PCB（Process Control Block）

由程序段、相关数据段和PCB构成了**进程映像**（进程实体）

**PCB**是进程存在的**唯一标志**!

进程，是进程实体的运行过程，是系统**资源分配和调度**的一个独立单位

### 进程特征

1. 动态性
2. 并发性
3. 独立性
4. 异步性
5. 结构性

### 五状态模型

![五状态模型](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/%E4%BA%94%E7%8A%B6%E6%80%81%E6%A8%A1%E5%9E%8B.png "五状态模型")

就绪->运行：获得**处理机资源**后，进程由就绪态转换为运行态

运行->就绪：处于运行态的进程在**时间片用完**后，让出处理机，变为就绪</br>
在*可剥夺* 操作系统中，当有**更高优先级进程就绪时**，正运行的进程转为就绪态

运行->阻塞：当进程请求某资源的使用和分配或等待某一事件发生（I/O操作）；由**目态**程序调用操作系统内核过程的形式

阻塞->就绪：等待事件结束，I/O操作结束或中断结束，由阻塞变为就绪

运行->阻塞，是一个**主动行为**；阻塞->就绪是一个**被动行为**

### 就绪态和等待态的区别

就绪态，只缺少处理机，只要获得处理机资源就可以立即执行</br>
等待态，进程需要其他资源（除了处理机）或等待某一事件

### 七状态模型

![七状态模型](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/%E4%B8%83%E7%8A%B6%E6%80%81%E6%A8%A1%E5%9E%8B.png "七状态模型")

### 进程的挂起
到目前为止，我们或多或少总是假设所有的进程都在内存中。

事实上，可能出现这样一些情况，例如由于进程的不断创建，系统的资源已经不能满足进程运行的要求，这个时候就必须把某些进程挂起（suspend），**对换到磁盘镜像区中**，暂时**不参与**进程调度，起到平滑系统操作负荷的目的。
 
引起进程挂起的原因是多样的，主要有： 

1. 系统中的进程均处于等待状态，处理器空闲，此时需要把一些阻塞进程对换出去，以腾出足够的内存装入就绪进程运行。 
2. 进程竞争资源，导致系统资源不足，负荷过重，此时需要挂起部分进程以调整系统负,保证系统的实时性或让系统正常运行。 
3. 把一些定期执行的进程（如审计程序、监控程序、记账程序）对换出去，以减轻系统负荷。 
4. 用户要求挂起自己的进程，以便根据中间执行情况和中间结果进行某些调试、检查和改正。 
5. 父进程要求挂起自己的后代进程，以进行某些检查和改正。 
6. 操作系统需要挂起某些进程，检查运行中资源使用情况，以改善系统性能;或当系统出现故障或某些功能受到破坏时，需要挂起某些进程以排除故障。


- 挂起就绪态（ready,suspend) 挂起就绪态表明了进程具备运行条件但目前在二级存储器中，只有当它被对换到主存才能被调度执行

- 挂起等待态（blocked,suspend）挂起等待态则表明了进程正在等待某一个事件且在二级存储器中。


- 等待态—→挂起等待态：如果当前不存在就绪进程，那么至少有一个等待态进程将被对换出去成为挂起等待态；
操作系统根据当前资源状况和性能要求，可以决定把等待态进程对换出去成为挂起等待态。

- 挂起等待态—→挂起就绪态：引起进程等待的事件发生之后，相应的挂起等待态进程将转换为挂起就绪态。
 
- 挂起就绪态—→就绪态：当内存中没有就绪态进程，或者挂起就绪态进程具有比就绪态进程更高的优先级，系统将把挂起就绪态进程转换成就绪态。

- 就绪态—→挂起就绪态：操作系统根据当前资源状况和性能要求，也可以决定把就绪态进程对换出去成为挂起就绪态。
 
- 挂起等待态—→等待态：当一个进程等待一个事件时，原则上不需要把它调入内存。
但是在下面一种情况下，这一状态变化是可能的。当一个进程退出后，主存已经有了一大块自由空间,而某个挂起等待态进程具有较高的优先级并且操作系统已经得知导致它阻塞的事件即将结束，此时便发生了这一状态变化。
 
- 运行态—→挂起就绪态：当一个具有较高优先级的挂起等待态进程的等待事件结束后，它需要抢占 CPU，，而此时主存空间不够，从而可能导致正在运行的进程转化为挂起就绪态。另外处于运行态的进程也可以自己挂起自己。

- 新建态—→挂起就绪态：考虑到系统当前资源状况和性能要求，可以决定新建的进程将被对换出去成为挂起就绪态。

