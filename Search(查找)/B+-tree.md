## B+树

- 在实际的文件系统中，用的是B+树或其变形

### 一棵m阶B+树需要满足下列条件

- 每个分支结点最多有m棵子树(子结点)

- 非叶根结点至少有两颗子树，其他每个分支结点至少有 ⌈m/2⌉ 棵子树

- **结点的子树个数与关键字个数相等**

- 所有叶结点包含全部关键字及指向相应记录的指针，而且叶结点中**将关键字按大小顺序排列**，并且**相邻叶结点按大小顺序相互链接起来**

- 所有分支结点(可看成是索引的索引)中仅包含它的各个子结点(即下一级索引块)中关键字的最大值以及指向其子结点的指针

### m阶的B+树与m阶的B树的主要差异

- 在B+树中，具有n个关键字的结点只含有n棵子树，即每个关键字对应一颗子树
- 而在B树中，具有n个关键字的结点含有(n+1)棵子树

- 在B+树中，每个结点(非根内部结点)关键字个数n的范围是 ⌈m/2⌉≤n≤m(根结点：1<=n<=m)
- 在B树中，每个结点(非根内部结点)关键字个数n的范围是 ⌈m/2⌉ - 1≤n≤m-1（根结点: 1≤n≤m-1）

- 在B+树中，叶结点包含信息，所有**非叶结点仅起到索引作用**，非叶结点中的每个索引项只含有对应子树的最大关键字和指向该子树的指针，不含有该关键字对应记录的存储地址

- 在B+树中，叶结点包含了全部关键字，即在非叶结点中出现的关键字也会出现在叶结点中
- 而在B树中，叶结点的包含的关键字和其他结点包含的关键字是不重复的

#### 分支结点的某个关键字是子树中的最大关键字的副本

- B+树中有两个头指针：**一个指向根结点**，另**一个指向关键字最小的叶结点**

![image](https://github.com/YC-L/Postgraduate-examination/blob/DataStructure/imgs/B+-tree.png)

- B+树的查找、插入和删除操作和B树基本类似

- 只是在查找过程中，如果非叶结点上的关键字值等于给定值时并不终止，而是继续向下查找直到叶结点上的该关键字为止

