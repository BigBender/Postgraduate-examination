## 希尔排序(缩小增量排序)

- 将待排序列分成几个子序列，分别对这几个子序列进行直接插入排序

- 如果**增量**是1，那么就是直接插入排序

### 该方法实质上是一种分组插入方法

- 比较相隔较远距离（称为增量）的数，使得数移动时能跨过多个元素，则进行一次比较就可能消除多个元素交换。

### 算法思想

- 先将要排序的一组数按某个增量d分成若干组，每组中记录的下标相差d

- 对**每组中全部元素进行排序**，然后再用一个较小的增量对它进行，在每组中再进行排序

- 当增量减到1时，整个要排序的数被分成一组，排序完成

### 示例

- 原始序列：**49 38 65 97 76 13 27 45 55 04**

![image](https://github.com/YC-L/Postgraduate-examination/blob/DataStructure/imgs/Shell-instance.png)

### 希尔排序不稳定

- 增量序列的最后一个值一定取1

- 增量序列中的值尽量没有除1之外的公因子

### 时间复杂度

- 时间与步长选取有关，但目前没有对应解析表达式

### 空间复杂度O(1)

```cpp

void ShellSort(int r[],int n){ 
	int i,j,d;
    int x;
    d=n/2;//d=n>>1
	while(d>=1){
		for(i=d ;i<n;i++){  
			x=r[i];
         	for(j=i-d;j>=0;j-=d){
				if(r[j]>x){
					r[j+d]=r[j];
				}else{
					break;
				}				
			}           	
	        r[j+d]=x;
	     }//for i
       d>>=1;
      }//while
}//ShellSort

```





 