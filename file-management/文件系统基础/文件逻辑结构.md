## 文件的逻辑结构(File Logical Structure)

- 也称文件的组织（File Organization），是指**从用户观点出发**讨论文件的内部的逻辑结构或用户访问模式

- 可以独立于文件的物理特性

- 文件的**逻辑结构**从**用户**观点出发，文件**物理结构**从**实现**观点出发

### 文件逻辑结构的设计要求

- 访问性能：便于检索；便于修改

- 存储性能：向物理存储转换方便，节省空间

### 有结构文件(**记录式**文件)

#### 定长记录

- 寻址简单

#### 变长记录

- 数据项数目不同：如论文中的关键词等。

- 数据项本身长度不定，如病历中的病史。

#### 有结构文件的组织方式

- **顺序文件**：文件中的记录按照某种顺序排列，适合于定长记录文件，串结构或顺序结构，**读写大批记录效率高**

- **索引文件**：若记录长度可变，则建立一张索引表，每个记录一个表项，加快检索，索引表本身是**定长**记录的**顺序文件**

- **索引顺序文件**：是顺序文件和索引文件结合的产物(有点像**分块查找**)
</br>为顺序文件建立一张索引表，在索引表中为每组中的**第一个记录**建立一个**索引项**，含有关键字值与指针
</br>查找任意记录时，先据关键字查索引表（此时可采用各种查找算法），找到所在组的第一个记录，之后顺序查找该组

### 无结构文件(流式文件)，**字节流**或**字符流**

- 文件体为字节流，不划分记录，**顺序访问**，每次读写访问可以指定任意数据长度，系统不对文件进行格式处理，即流式文件

- **在UNIX系统中**，所有文件（有结构或无结构）都看成是**流式文件**

#### 索引文件和索引顺序文件提高了查找效率

### 直接文件或散列文件(Hash File)，没有**顺序特性**

#### 直接文件 

- 前面几种文件结构对记录进行存取时，都须利用给定的记录键值，先对线性表或链表进行检索，以找到指定记录的物理地址

- 直接文件是根据记录的键值**直接就可获得记录**的物理地址

- 组织直接文件的关键在于实现**从键值到物理地址的转换**

#### 哈希查找(散列)

- 哈希文件是应用最广泛的一种直接文件

- 记录位置由哈希函数确定

- 检索时给出记录键值，通过哈希函数计算出该记录在文件中的相对位置，通常是一个目录表中的表项，该表目的内容指向相应记录所在的物理块

- 访问速度最快，但在主文件中有空闲空间浪费




