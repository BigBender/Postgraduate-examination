## 文件共享

使多个用户共享同一份文件，系统中只需**保留该文件的一个副本**

若系统不能提供共享功能，每个需要该文件的用户都要有各自的副本，会浪费存储空间

### 基于索引结点的共享方式(硬链接)

![image](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/Hard-link.png)

引用索引结点，将文件的物理地址及其他的文件树形等信息放在**索引结点**中，设置一个**链接计数器**count

表示链接到本索引结点上的用户目录项数目

当count=2，表示有连个用户链接到本文件上，即有两个用户共享此文件

只有当**count数为0**时，系统**才能删除**该文件

![image](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/Link-count-in-file-share.png)

用户B链接到文件上的前、后情况

### 利用符号链实现文件共享(软链接)

由系统创建一个LINK类型的新文件，只包含被链接文件的**路径名**，称为**符号链接**

只有**文件拥有者**才**拥有指向其索引结点的指针**，共享该文件的用户只拥有路径名，没指针

符号链可能会导致**多次读盘**，增加启动磁盘的频率

但是其有个优点，**网络共享**只需提供该文件所在机器的**网络地址**以及该机器中的**文件路径**即可

**硬链接和软链接**都是文件系统中的**静态共享**方法

文件系统中还存在着另外的共享需求，两个进程同时对同一个文件进行操作，称为**动态共享**

**硬链接**比软连接查找**速度块**
