## 一次磁盘读写操作的时间

### 寻道时间Ts

活动头磁盘在读写信息前，将磁头**移动到指定磁道所需要的时间**

这个时间除跨越n条磁道的时间外，还包括启动磁臂的时间s， Ts = m*n + s

m是跨越一条磁道的时间，与磁盘驱动器速度有关，约为0.2ms，磁臂启动时间约为2ms

### 延迟时间Tr

磁头**定位**到某一磁道的扇区所需的时间

设磁盘的旋转速度为r，则 Tr = 1/2r

对于硬盘、典型的旋转速度为 5400r/m，相当于一周 11.1ms，Tr=1/2r=5.55ms

对于软盘，旋转速度在 300\~600r/m之间，则Tr为50~100ms

### 传输时间Tt

从磁盘读出或向磁盘写入数据所经历的时间，取决于每次读/写字节数b和磁盘旋转速度

Tt = b/rN，r为磁盘每秒钟的转数，N为一个磁道上的字节数

延迟时间和传输时间斗鱼磁盘旋转速度相关，且为**线性相关**

### 总平均存取时间Ts

Ta = Ts + Tr + Tr = Ts + 1/2r + b/rN

## 磁盘调度算法

### 先来先服务算法FCFS

根据进程请求访问磁盘的先后顺序进行调度

例如，磁盘请求队列中的请求顺序分别为 55、58、39、18、90、160、150、38、184

磁头初始位置是100磁道

![image](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/FCFS.png)

磁头共移动了498个磁道，平均寻找长度=498/9=55.3

### 最短寻找时间优先

优先选择与当前磁头所在磁道距离最近的磁道调度处理，以使每次寻找时间最短

容易产生**饥饿**现象

例如，磁盘请求队列中的请求顺序分别为 55、58、39、18、90、160、150、38、184

磁头初始位置是100磁道

![image](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/SSTF.png)

磁头共移动了248个磁道，平均寻找长度=248/9=27.5

### 扫描(SCAN)算法(电梯调度)

SCAN算法在磁头当前移动方向上选择与当前磁头所在磁道距离最近的请求作为下一次服务的对象

例如，磁盘请求队列中的请求顺序分别为 55、58、39、18、90、160、150、38、184

磁头初始位置是100磁道，向磁道号增大的方向移动

![image](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/SCAN.png)

磁头共移动了282个磁道，平均寻找长度=282/9=31.33

### 循环扫描(Circular SCAN, C-SCAN)算法

在SCAN基础上规定磁头单向移动来提供服务，回返时直接快速移动至起始段而不服务任何请求

例如，磁盘请求队列中的请求顺序分别为 55、58、39、18、90、160、150、38、184

磁头初始位置是100磁道，向磁道号增大的方向移动

![image](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/C-SCAN.png)

### LOOK和C-LOOK

在 SCAN 和 C-SCAN 基础上改进

磁头移动只需要**达到最远端的一个请求即可返回**，不需要到达磁盘端点


例如，磁盘请求队列中的请求顺序分别为 55、58、39、18、90、160、150、38、184

磁头初始位置是100磁道，向磁道号增大的方向移动

![image](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/LOOK&C-LOOK.png)

### 磁盘调度算法比较

![image](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/Comparison-of-disk-scheduling-algorithms.png)


### 减少延迟时间提高磁盘传输效率

- 对盘面扇区进行交替编号

- 对磁盘组中的不同盘面错位命名


![image](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/Disk-slice-group-sector-number.png)

读取连续编号扇区的一种方法





