## 文件存储管理

1. 文件存储器空间的划分和初始化
2. 文件存储器空间管理，文件存储设备的管理**实质上是对空闲块的组织和管理**

### 空闲表法

连续分配方式，系统为外存上所有空闲区建立一张空闲盘块表，将所有空闲区按起始盘块号递增的次序排列

![空闲盘块表](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/%E7%A9%BA%E9%97%B2%E7%9B%98%E5%9D%97%E8%A1%A8.png "空闲盘块表")

顺序检索空闲盘块表的各表项，直至找到第一个大小能满足要求的空闲区，分配给用户，同时修改空闲盘块表

### 空闲链表法

将所有空闲盘区拉成一条空闲链

1. 空闲盘块链，将所有空闲空间，以盘块为单位拉成一条链，申请文件时，从链首开始，依次摘下适当数目的空闲盘块给用户，当用户删除文件释放空间时，将要回收的盘块依次插入空闲盘块链的末尾
2. 空闲盘区链，将所有空闲空间，以盘区为单位拉成一条链，每个盘区含有指向下个盘区的指针，分配方法通常采用首次适应法

### 位示图法

利用二进制和字长表示空闲盘块

![位示图法](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/%E4%BD%8D%E7%A4%BA%E5%9B%BE.png "位示图法")

### 成组链接法

**UNIX系统常采用这种方法**

把顺序的n个空闲扇区地址保存在第一个空闲扇区内，其后一个空闲扇区则保存另一顺序空闲扇区的地址，直到所有空闲扇区均予以链接

![成组链接法](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/%E6%88%90%E7%BB%84%E9%93%BE%E6%8E%A5%E6%B3%95.png "成组链接法")

表示文件存储器空闲空间的"位向量"表或第一个成组链块以及卷的目录区，文件区划分信息都放在辅存储器中，一般放在卷头位置，在UNIX中称为"**超级块**"

对卷中文件操作前，"超级块"预先读入系统空闲主存，经常保持主存"超级块"与辅存卷中"超级块"一致性





