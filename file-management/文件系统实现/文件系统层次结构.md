## 文件系统层次结构

![文件系统层次结构](https://github.com/YC-L/Postgraduate-examination/blob/Operating-System/imgs/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.png "文件系统层次结构")

- 用户调用接口，系统为用户提供与文件以及目录有关的调用

- 文件目录系统，管理文件目录

- 存取控制验证，比较用户访问请求与FCB中访问控制权限，确认合法性

- 逻辑文件系统与文件信息缓冲区，将逻辑记录转换成文件逻辑结构内相应块号

- 物理文件系统，把逻辑记录所在相应块号转换成实际物理地址

- 分配模块，管理辅存空间

- 设备管理程序模块，分配设备，分配设备读写用缓冲区、磁盘调度、启动设备、处理设备中断、释放设备读写缓冲区，释放设备等

### 访问文件的过程

用户查看文件中的内容

- 经过第一层**用户调用接口**，操作系统得到命令后，查找文件的索引信息

- 经过第二层**文件目录系统**，找到FCB后，查看文件FCB上的信息，查看用户有无权限

- 经过了**存取控制验证层**，经过**逻辑文件系统与文件信息缓冲区**得到文件内容的逻辑地址

- 在**物理文件系统中**，完成了逻辑地址到物理地址的转换

- 寻址完成后，若要释放空间，交给**辅助分配模块**，如果分配给设备用于IO，交给**设备管理程序模块**





